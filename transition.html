<!DOCTYPE html>
<meta charset="utf-8">
<style>
  div {
    width: 500px;
    height: 300px;
    background: red;
  }
</style>
<div></div>
<script src="d3.min.js"></script>
<script>

  var a = d3.select("div")
        .style("background", "red")
        .transition()
        .delay(200)
        .duration(3000)
        .ease(d3.easeElasticOut) //default   d3.easeCubic
        //      .ease('linear')
        .styleTween("height", function () {
          return d3.interpolate("100px", "500px");
        })
        .styleTween("width", function () {
          return d3.interpolate("100px", "500px");
        })
  //更过曲线请参考：https://github.com/d3/<d3-ease id="easeCubic"></d3-ease>
  // .on("mouseover", xxx)  将报错，因为这里的.on是跟在.duration后面的方法，不是a   *******


  {/*
   var t = d3.transition()
   .duration(4000)
   .ease(d3.easeLinear);
   d3.select("div")
   .style('background','red')
   .transition(t)  //接受一个对象
   .styleTween("width", function() { return d3.interpolate("100px", "500px"); })
   // .remove()
   */
  }

  d3.select("div")
        .on("mouseover", function () {
          d3.select(this).style("background", "aliceblue");
        })
        .on("mouseout", function () {
          d3.select(this).style("background", "red");
        })
        .on("mousedown", animate)

  function animate() {
    d3.select(this).transition()
          .duration(1000)
          .style("border-radius", '50%')
          .transition()
          .delay(1000)
          .style("border-radius", '0%')
  }
  ;
</script>